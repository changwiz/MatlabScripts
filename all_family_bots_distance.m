x0=[1 2 3 4 5 6 7 8 9 10 11 12 15 16 17 ];
y0=[369 192 102 93 48 38 38 32 13 6 4 2 20 43 1 ];
x1=[1 2 3 4 5 6 7 8 9 ];
y1=[14 10 4 4 2 2 2 2 1 ];
x2=[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ];
y2=[15435 4538 3274 2298 1661 1189 881 659 528 328 224 174 130 141 116 76 55 43 40 50 30 11 8 8 10 4 3 ];
x3=[1 2 3 4 5 6 7 8 9 ];
y3=[22 7 2 2 1 1 2 1 1 ];
x4=[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ];
y4=[18045 8511 5413 3905 2963 2380 1923 1662 1296 1169 1026 865 695 590 486 458 377 334 314 247 156 174 147 103 82 46 21 ];
x5=[1 2 3 4 5 6 7 8 10 ];
y5=[86 20 13 2 3 3 1 2 1 ];
x6=[1 2 3 4 5 6 7 8 9 10 11 13 19 20 22 ];
y6=[46 27 6 8 4 4 2 5 3 1 1 1 2 1 1 ];
x7=[1 3 ];
y7=[3 2 ];
x8=[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ];
y8=[10614 37378 4269 2448 3388 1473 1102 1066 698 510 519 559 276 265 276 185 187 1053 102 79 1166 42 42 38 20 8 14 ];
x9=[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ];
y9=[2869 1629 931 561 393 310 207 176 121 94 80 52 39 34 19 17 17 21 20 47 49 33 23 12 8 8 3 ];
x10=[1 2 3 4 5 6 7 8 9 12 ];
y10=[153 50 15 13 12 25 6 12 9 1 ];
x11=[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ];
y11=[9977 5476 3039 2095 1602 1147 866 640 438 408 322 313 373 285 236 317 188 149 152 104 79 53 48 51 35 15 10 ];
x12=[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 ];
y12=[923 456 225 201 138 148 119 101 63 52 27 24 32 18 12 14 15 5 3 2 ];
x13=[1 2 3 4 5 6 7 8 9 10 11 12 ];
y13=[60 20 9 6 6 9 6 3 2 1 1 1 ];
x14=[1 2 3 4 5 6 7 8 10 11 ];
y14=[46 16 8 9 1 1 5 2 1 1 ];
x15=[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ];
y15=[3726 1994 1192 808 520 414 346 294 196 184 160 141 107 86 88 72 59 64 26 51 44 44 29 29 1 5 3 ];

src_path = '/Users/wentaochang/Documents/BARS_Analysis/BotsWeeklyPatterns/';
hFig = figure('visible','on');
m = {'+','o','*','.','x','s','d','^','v','>','<','p','h','~','=','q'};
set_marker_order = @() set(gca(), ...
    'LineStyleOrder',m, 'ColorOrder',[0 0 0], ...
    'NextPlot','replacechildren');
plot(x0,log(y0),x1,log(y1),x2,log(y2),x3,log(y3),x4,log(y4),x5,log(y5),x6,log(y6),x7,log(y7),x8,log(y8),x9,log(y9),x10,log(y10),x11,log(y11),x12,log(y12),x13,log(y13),x14,log(y14),x15,log(y15));
legend('Aldibot','Armageddon', 'Blackenergy','Colddeath','Conficker','Darkcomet','Darkshell', 'Ddoser','Dirtjumper' ,'Illusion', 'Nitol', 'Optima' ,'Pandora' ,'Torpig', 'Yzf' ,'Zeus');

set(hFig,'PaperSize',[15,8],'PaperPosition',[-1 0 15 8]);

set(get(gca,'XLabel'),'string','Reoccurrence distance','FontSize',25,'FontWeight','b');
set(get(gca,'YLabel'),'string','Number of Unique IPs (log)','FontSize',25,'FontWeight','b');
set(gca,'FontSize',18,'FontWeight','b');


grid on;
output_path = strcat(src_path,'/all_family_bots_distance.eps');
saveas(hFig,output_path,'epsc');